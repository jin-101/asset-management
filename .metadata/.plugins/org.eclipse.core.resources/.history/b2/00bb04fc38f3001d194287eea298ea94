<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<c:set var="path" value="${pageContext.request.contextPath}"></c:set>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>장비등록하기</title>
<jsp:include page="/common/common.jsp"></jsp:include>
<link rel="stylesheet" href="${path}/css/empInsert.css">
</head>
<body>
	<header>
		<div class="container">
			<%@include file="../common/header.jsp"%>
		</div>
	</header>
	<main>
		<div id="main-container">
			<div class="img-content">
				<img src="${path }/images/umbrella.jpg" alt="이미지" />
			</div>
			<form id="insert-form" method="post" action="${path}/emp/empInsert.do" class="row g-3">
				<div class="col-12">
					<label for="address" class="form-label">추가컬럼(주소)</label> 
					<input type="text" class="form-control" name="address"/>
				</div>
				<div class="col-12">
					<label for="employee_id" class="form-label">EMPLOYEE_ID</label> 
					<input type="text" id="EMPLOYEE_ID" class="form-control" name="employee_id" value="자동생성" disabled/>
				</div>
				<div class="col-12">
					<label for="" class="form-label">First and last name</label>
					<div class="input-group">
						<span class="input-group-text">First and last name</span> 
						<input type="text" aria-label="First name" name="first_name" class="username form-control" required/> 
						<input type="text" aria-label="Last name" name="last_name" class="username form-control " required/>
						<div class="valid-feedback">Looks good!</div>
					</div>
				</div>
				<div class="col-12">
					<label for="email" class="form-label">EMAIL</label>
					<input type="email" name="email" class="form-control" id="email" placeholder="xxx@jei.xxx">
				</div>
				<div class="col-12">
					<label for="phone_number" class="form-label">PHONE_NUMBER</label> 
					<input type="text" name="phone_number" class="form-control" id="phone_number" placeholder="010-0000-0000">
				</div>
				<div>
					<div class="mb-2">
						<label for="">HIRE_DATE</label> 
						<input type="date" name="hire_date" id="phone_number" required>
					</div>

				</div>
				<div class="col-12">
					<label for="job_id" class="form-label">JOB_NAME</label> 
					<select name="job_id">
						<option selected disabled>선택하세요</option>
						<c:forEach items="${jobList}" var="job">
							<option value="${job.job_id}">${job.job_id}</option>
						</c:forEach>
					</select>
				</div>
				<div class="col-12">
					<label for="salary" class="form-label">SALARY</label>
					<input type="number" name="salary" class="form-control" id="SALARY"/>
				</div>
				<div class="col-12">
					<label for="commission_pct" class="form-label">COMMISSION_PCT</label>
					<input type="text" name="commission_pct" class="form-control" id="COMMISSION_PCT"/>
				</div>
				<div class="col-12">
					<label for="manager_id" class="form-label">Manager_ID</label> 
					<select name="manager_id">
						<option value="0" selected>매니저 없음</option>
						<c:forEach items="${managerList}" var="manager">
							<option value="${manager.employee_id}">${manager.employee_id}</option>
						</c:forEach>
					</select>
				</div>
				<div class="col-12">
					<label for="department_id" class="form-label">DEPARTMENT_NAME</label>
					<select name="department_id">
						<option value="0" selected>부서 없음</option>
						<c:forEach items="${deptList}" var="dept">
							<option value="${dept.department_id}">${dept.department_id}</option>
						</c:forEach>
					</select>
				</div>
				<div class="submit">
					<input type="submit" name="submit" id="submit" class="btn btn-success" value="직원등록" />
					<input type="button" id="insert-restful-btn" class="btn btn-primary" value = "등록 (restful)" />
				</div>
				
			</form>
			<div id="resultMsg-select-list-all"></div>
		</div>
	</main>
</body>
<script>
	$(function() {
		//직원정보 추가 (insert , post방식)
		/* $("#insert-restful-btn").click(function() {
			const arr = $("#insert-form").serializeArray();
			const obj = {};
			$.each(arr, (index, item)=>{
				obj[item.name] = item.value;
			});
			$.ajax({
				url : "${path}/restfulEmp/empInsert.do/",
				method:"POST",
				data: JSON.stringify(obj),
				contentType:"application/json",
				success:(res)=>{
					alert(res);
					location.href = "${path}/emp/empList.do";
				},
				error:(err)=>{
					console.error(err);
				}
			});
		}); */
	});
</script>
</html>