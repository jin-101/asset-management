$(function() {
	function makeModal({
		text,
		width,
		height,
		r,
	}){
		const bg = document.createElement("div");
		bg.style.width = "100%";
		bg.style.height = "100%";
		bg.style.position = "fixed";
		bg.style.top = 0;
		bg.style.left = 0;
		bg.style.background ="rgba(0,0,0,0.6)";
		bg.style.zIndex = 998;
		const modal = document.createElement("div");
		const textSpan = document.createElement("span");
		modal
	};
	const PATH = getContextPath();
	$("#update-btn").click(function(){
		
		const arr = $("#detail-form").serializeArray();
		const obj = {};
		$.each(arr, (index, item)=>{
			obj[item.name] = item.value;
		});
		$.ajax({
			url : PATH + "/equi/equipmentDetail.do",
			method:"POST",
			data: obj,
			beforeSend : () => {
				$("#my-spinner").show();
			},
			success:(res)=>{
				$("#my-spinner").hide();
				if (res === '1') {
					alert("업데이트 성공");
					location.href =  PATH + "/equi/equiList.do";
				}else {
					alert("업데이트 실패");
				}
				
			},
			error:(err)=>{
				$("#my-spinner").hide();
				console.error(err);
			}
		});
	});
});